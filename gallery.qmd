---
title: "Image Gallery"
execute:
  echo: false
  warning: false
  message: false
format:
  html:
    grid:
      body-width: 1200px
---

```{r}
library(fs)
library(htmltools)

image_grid <- function(folder, ncol = 4) {

  imgs <- dir_ls(folder, regexp = "\\.(jpg|jpeg|png|webp|JPG|JPEG)$", recurse = FALSE)

  if (length(imgs) == 0) return(HTML("<p><em>No images found.</em></p>"))

  # Randomize order each render
  imgs <- sample(imgs)

  tags$div(
    style = paste0(
      "display:grid;",
      "grid-template-columns: repeat(", ncol, ", 1fr);",
      "gap: 12px; margin-top: 1em;"
    ),
    lapply(imgs, function(img) {
      tags$img(
        src = img,
        style = "width:100%; border-radius:10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);"
      )
    })
  )
}
```

## Coral Reef Field Work

::: {.content-card}
### Moorea, French Polynesia
```{r}
image_grid("images/field_work/moorea/", ncol = 4)
```

### Hawaii, USA
```{r}
image_grid("images/field_work/hawaii/", ncol = 4)
```

### Florida Keys, USA
```{r}
image_grid("images/field_work/florida/", ncol = 4)
```
:::

## Oyster & Aquaculture Field Work

::: {.content-card}

```{r}
image_grid("images/oysters/", ncol = 4)
```
:::

## Coral Spawning

::: {.content-card}
### Moorea, French Polynesia
```{r}
image_grid("images/coral_spawning/moorea/", ncol = 4)
```

### Hawaii, USA
```{r}
image_grid("images/coral_spawning/hawaii/", ncol = 4)
```

### Florida Keys, USA
```{r}
image_grid("images/coral_spawning/florida/", ncol = 4)
```
::: 

## Lab Work

::: {.content-card}
### Corals
```{r}
image_grid("images/lab_work/corals/", ncol = 4)
```

### Oysters & Aquaculture
```{r}
image_grid("images/lab_work/oysters/", ncol = 4)
```
:::



